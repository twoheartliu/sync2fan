# PWA (Progressive Web App) åŠŸèƒ½è¯´æ˜

## å·²å®Œæˆçš„é…ç½®

âœ… **Web App Manifest** - `/public/manifest.json`
- åº”ç”¨åç§°ã€å›¾æ ‡ã€ä¸»é¢˜è‰²ç­‰é…ç½®
- æ”¯æŒ standalone æ¨¡å¼ï¼ˆç‹¬ç«‹åº”ç”¨çª—å£ï¼‰

âœ… **Service Worker** - `/public/service-worker.js`
- ç¦»çº¿ç¼“å­˜æ”¯æŒ
- ç½‘ç»œä¼˜å…ˆç­–ç•¥
- è‡ªåŠ¨æ›´æ–°æ£€æµ‹

âœ… **PWA Meta æ ‡ç­¾** - `index.html`
- Manifest å¼•ç”¨
- Apple Touch Icon æ”¯æŒ
- ä¸»é¢˜è‰²é…ç½®

âœ… **Service Worker æ³¨å†Œ** - `src/main.js`
- ä»…åœ¨ç”Ÿäº§ç¯å¢ƒå¯ç”¨
- è‡ªåŠ¨æ›´æ–°æç¤º

âœ… **åº”ç”¨å›¾æ ‡** - `/public/icons/`
- SVG æºæ–‡ä»¶
- å›¾æ ‡ç”Ÿæˆå·¥å…·

## ç”Ÿæˆåº”ç”¨å›¾æ ‡

### æ–¹æ³• 1ï¼šä½¿ç”¨æµè§ˆå™¨ç”Ÿæˆå™¨ï¼ˆæ¨èï¼‰

1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š
   ```bash
   npm run dev
   ```

2. åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š
   ```
   http://localhost:1234/icons/generator.html
   ```

3. ç‚¹å‡»"ç”Ÿæˆå›¾æ ‡"æŒ‰é’®

4. ä¸‹è½½æ‰€æœ‰ç”Ÿæˆçš„å›¾æ ‡åˆ° `public/icons/` ç›®å½•

### æ–¹æ³• 2ï¼šä½¿ç”¨åœ¨çº¿å·¥å…·

1. è®¿é—® [PWA Icon Generator](https://www.pwabuilder.com/imageGenerator)
2. ä¸Šä¼  `/public/icons/icon.svg`
3. ä¸‹è½½å¹¶è§£å‹å›¾æ ‡åŒ…
4. å°†å›¾æ ‡å¤åˆ¶åˆ° `public/icons/` ç›®å½•

### æ–¹æ³• 3ï¼šä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·

å¦‚æœå®‰è£…äº† ImageMagickï¼š

```bash
cd public/icons
for size in 72 96 128 144 152 192 384 512; do
  convert icon.svg -resize ${size}x${size} icon-${size}x${size}.png
done
```

## æµ‹è¯• PWA åŠŸèƒ½

### å¼€å‘ç¯å¢ƒæµ‹è¯•

ç”±äº Service Worker ä»…åœ¨ç”Ÿäº§ç¯å¢ƒå¯ç”¨ï¼Œéœ€è¦å…ˆæ„å»ºé¡¹ç›®ï¼š

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬
npm run preview
```

### Chrome æ¡Œé¢ç«¯æµ‹è¯•

1. è®¿é—®åº”ç”¨ URL
2. ç‚¹å‡»åœ°å€æ å³ä¾§çš„ "å®‰è£…" å›¾æ ‡ âŠ•
3. ç¡®è®¤å®‰è£…åº”ç”¨
4. åº”ç”¨å°†ä½œä¸ºç‹¬ç«‹çª—å£æ‰“å¼€

### Chrome ç§»åŠ¨ç«¯æµ‹è¯•

1. åœ¨æ‰‹æœºæµè§ˆå™¨ä¸­è®¿é—®åº”ç”¨
2. ç‚¹å‡»èœå•ä¸­çš„"æ·»åŠ åˆ°ä¸»å±å¹•"
3. åº”ç”¨å›¾æ ‡å°†å‡ºç°åœ¨ä¸»å±å¹•ä¸Š
4. ç‚¹å‡»å›¾æ ‡ä»¥å…¨å±æ¨¡å¼æ‰“å¼€åº”ç”¨

### å¼€å‘è€…å·¥å…·æ£€æŸ¥

1. æ‰“å¼€ Chrome DevTools (F12)
2. åˆ‡æ¢åˆ° **Application** æ ‡ç­¾
3. æ£€æŸ¥ä»¥ä¸‹é¡¹ç›®ï¼š
   - **Manifest**: æŸ¥çœ‹ manifest.json é…ç½®
   - **Service Workers**: æŸ¥çœ‹ SW çŠ¶æ€å’Œç¼“å­˜
   - **Cache Storage**: æŸ¥çœ‹ç¼“å­˜å†…å®¹

### ç¦»çº¿åŠŸèƒ½æµ‹è¯•

1. è®¿é—®åº”ç”¨å¹¶ç­‰å¾…ç¼“å­˜å®Œæˆ
2. åœ¨ DevTools Network é¢æ¿ä¸­é€‰æ‹© "Offline"
3. åˆ·æ–°é¡µé¢ï¼Œåº”ç”¨ä»å¯è®¿é—®ï¼ˆæ˜¾ç¤ºç¼“å­˜å†…å®¹ï¼‰

## PWA åŠŸèƒ½ç‰¹æ€§

### âœ¨ å®‰è£…åˆ°è®¾å¤‡
- æ¡Œé¢ï¼šæ·»åŠ åˆ°åº”ç”¨åˆ—è¡¨
- ç§»åŠ¨ï¼šæ·»åŠ åˆ°ä¸»å±å¹•
- ç‹¬ç«‹çª—å£è¿è¡Œï¼ˆæ— æµè§ˆå™¨åœ°å€æ ï¼‰

### ğŸ“¡ ç¦»çº¿æ”¯æŒ
- ç½‘ç»œä¼˜å…ˆç­–ç•¥
- å¤±è´¥æ—¶ä½¿ç”¨ç¼“å­˜
- å…³é”®èµ„æºé¢„ç¼“å­˜

### ğŸ”„ è‡ªåŠ¨æ›´æ–°
- æ£€æµ‹æ–°ç‰ˆæœ¬
- æç¤ºç”¨æˆ·åˆ·æ–°
- æ— ç¼æ›´æ–°ä½“éªŒ

### ğŸ¨ åŸç”Ÿä½“éªŒ
- è‡ªå®šä¹‰ä¸»é¢˜è‰²
- å¯åŠ¨ç”»é¢
- å…¨å±æ˜¾ç¤º

## éƒ¨ç½²æ³¨æ„äº‹é¡¹

### HTTPS è¦æ±‚
- Service Worker éœ€è¦ HTTPSï¼ˆæˆ– localhostï¼‰
- ç¡®ä¿ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ HTTPS

### ç¼“å­˜ç­–ç•¥
- å½“å‰ä½¿ç”¨ç½‘ç»œä¼˜å…ˆç­–ç•¥
- å¯æ ¹æ®éœ€æ±‚è°ƒæ•´ä¸ºç¼“å­˜ä¼˜å…ˆæˆ–å…¶ä»–ç­–ç•¥

### å›¾æ ‡è¦æ±‚
- è‡³å°‘éœ€è¦ 192x192 å’Œ 512x512 å°ºå¯¸
- å»ºè®®æä¾›å¤šç§å°ºå¯¸ä»¥é€‚é…ä¸åŒè®¾å¤‡
- æ”¯æŒ maskable å›¾æ ‡ï¼ˆAndroid è‡ªé€‚åº”å›¾æ ‡ï¼‰

## è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹åº”ç”¨ä¿¡æ¯

ç¼–è¾‘ `/public/manifest.json`ï¼š
```json
{
  "name": "ä½ çš„åº”ç”¨åç§°",
  "short_name": "çŸ­åç§°",
  "description": "åº”ç”¨æè¿°",
  "theme_color": "#ä½ çš„ä¸»é¢˜è‰²",
  "background_color": "#ä½ çš„èƒŒæ™¯è‰²"
}
```

### ä¿®æ”¹ç¼“å­˜ç­–ç•¥

ç¼–è¾‘ `/public/service-worker.js` ä¸­çš„ fetch äº‹ä»¶å¤„ç†å‡½æ•°ã€‚

### æ·»åŠ é¢„ç¼“å­˜èµ„æº

åœ¨ `service-worker.js` çš„ `PRECACHE_URLS` æ•°ç»„ä¸­æ·»åŠ éœ€è¦é¢„ç¼“å­˜çš„èµ„æºã€‚

## å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆå¼€å‘ç¯å¢ƒçœ‹ä¸åˆ°å®‰è£…æç¤ºï¼Ÿ**
A: Service Worker ä»…åœ¨ç”Ÿäº§ç¯å¢ƒå¯ç”¨ï¼Œä½¿ç”¨ `npm run build && npm run preview` æµ‹è¯•ã€‚

**Q: å¦‚ä½•æ›´æ–°å·²å®‰è£…çš„ PWAï¼Ÿ**
A: Service Worker ä¼šè‡ªåŠ¨æ£€æµ‹æ›´æ–°ï¼Œç”¨æˆ·è®¿é—®æ—¶ä¼šæç¤ºåˆ·æ–°ã€‚

**Q: å›¾æ ‡ä¸æ˜¾ç¤ºæ€ä¹ˆåŠï¼Ÿ**
A: ç¡®ä¿å·²ç”Ÿæˆæ‰€æœ‰å°ºå¯¸çš„ PNG å›¾æ ‡å¹¶æ”¾ç½®åœ¨ `public/icons/` ç›®å½•ã€‚

**Q: å¦‚ä½•å¸è½½ PWAï¼Ÿ**
A: Chrome è®¾ç½® > åº”ç”¨ > æ‰¾åˆ°åº”ç”¨ > å¸è½½ã€‚ç§»åŠ¨ç«¯é•¿æŒ‰å›¾æ ‡ > å¸è½½ã€‚

## å‚è€ƒèµ„æ–™

- [MDN - Progressive Web Apps](https://developer.mozilla.org/zh-CN/docs/Web/Progressive_web_apps)
- [Google PWA æŒ‡å—](https://web.dev/progressive-web-apps/)
- [Web App Manifest è§„èŒƒ](https://www.w3.org/TR/appmanifest/)
- [Service Worker API](https://developer.mozilla.org/zh-CN/docs/Web/API/Service_Worker_API)
